<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:p="http://primefaces.org/ui">
    
    <c:set var="ctx" value="#{request.contextPath}" scope="request" />
    <h:head>
    	<title>Gerenciador de Livros</title>
    	<h:outputStylesheet library="css" name="bootstrap.css" />
		<h:outputStylesheet library="css" name="bootstrap-responsive.css" />
		<h:outputStylesheet library="css" name="style.css" />
		<link rel="shortcut icon" href="${ctx}/resources/images/favicon.ico" />
    </h:head>
    <h:body>
    	<div class="all">
	        <h1 class="titulo">Gerenciador de Livros</h1>
	        <h:dataTable  styleClass="tabela table table-bordered" var="livro" value="#{livroController.listarLivros}">
	            <h:column>
	                <f:facet name="header">
	                    <h:outputText value="Título"/>
	                </f:facet>
	                <h:outputText value="#{livro.titulo}" />
	            </h:column>
	            <h:column>
	                <f:facet name="header">
	                    <h:outputText value="Autor"/>
	                </f:facet>
	                <h:outputText value="#{livro.autor}"/>
	            </h:column>
	            <h:column>
	                <f:facet name="header">
	                    <h:outputText value="Páginas"/>
	                </f:facet>
	                <h:outputText value="#{livro.paginas}"/>
	            </h:column>
	            <h:column>
	                <f:facet name="header">
	                    <h:outputText value="Editora"/>
	                </f:facet>
	                <h:outputText value="#{livro.editora}"/>
	            </h:column>
	            <h:column>
	                <f:facet name="header">
	                    <h:outputText value="Isbn"/>
	                </f:facet>
	                <h:outputText value="#{livro.isbn}"/>
	            </h:column>
	            <h:column>
	                <f:facet name="header">
	                    <h:outputText value="Avaliação"/>
	                </f:facet>
	                <h:outputText value="#{livro.avaliacao}"/>
	            </h:column>
	            <h:column styleClass="textAction">
	                <f:facet name="header">
	                	<div style="text-align: center;">
		                    <h:outputText value="Alterar"/>
						</div>
	                </f:facet>
	                <h:form styleClass="linkAction" >
	                    <h:commandLink styleClass="actions" action="#{livroController.prepararAlterarLivro}">
	                    	<h:graphicImage alt="Editar" url="/resources/images/edit.png"></h:graphicImage>
	                    </h:commandLink>
	                </h:form>
	            </h:column>
	            <h:column>
	                <f:facet name="header">
	                    <div style="text-align: center;">
	                    	<h:outputText value="Excluir"/>
	                    </div>
	                </f:facet>
	                <h:form styleClass="linkAction">
	                	<h:commandLink styleClass="actions" action="#{livroController.excluirLivro}">
	                		<h:graphicImage alt="Excluir" url="/resources/images/delete.png"></h:graphicImage>
	                	</h:commandLink>
	                </h:form>
	            </h:column>
	        </h:dataTable>
	        <br/>
	        
	        <h:form styleClass="button">
	            <h:commandLink styleClass="btn btn-success" value="Novo Livro" action="#{livroController.prepararAdicionarLivro}"/>
	        </h:form>
		</div>
    </h:body>
</html>